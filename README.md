# Contrast-Enhancer
Утилита для улучшения глобальной контрастности изображения, выполнена в качестве одной из домашних работ к Архитектуре ЭВМ 1 курса КТ ИТМО.

При обработке изображения используется многопоточность, реализованная с помощью библиотеки OpenMP. При компиляции без флага OpenMP будет работать в однопоточном режиме. Работает на картинках в формате pgm, ppm.

Для улучшения контрастности используется растяжение гистограммы распределения цветов (подробнее в Отчёт.pdf). В отчёте также приложены графики для разных значений гиперпараметров при многопоточности и их анализ.

## Компиляция и запуск

Нужен C++17, тестировал на gcc.

### Компиляция
Настроен Cmake файл для компиляции

### Запуск

В качестве аргументов командной строки приложение принимает: количество потоков (0 -- количество потоков по умолчанию, то есть как решит OpenMP); путь к входному файлу; путь к выходному файлу; доля пикселей, которую нужно игнорировать (число в диапазоне [0, 0.5)).
Пример: `8 test.ppm out.ppm 0.1`
В этом случае программа запустится в 8-поточном режиме (если была скомпилирована с помощью OpenMP) и проигнорирует 10% пикселей с крайними значенияеми.

## Пример работы
Коэффициент 0.01, результат и тест конвертированы в jpg.

Исходная картинка:

Результат:
